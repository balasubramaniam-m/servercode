<!DOCTYPE html>
<html>
<head>
	<title>Delete Book</title>
	<link rel="stylesheet" href="style.css"></link>
	<script type="text/javascript">

		function restrictAutoRefresh()
		{
			var form1 = document.getElementById("deleteAllBooksForm");
    		form1.addEventListener("submit", function(event) 
	    	{
	    		console.log("event called");
	    		event.preventDefault();
	    		deleteAllBook();
	    	});

	    	var form2 = document.getElementById("deleteBookByIdForm");
    		form2.addEventListener("submit", function(event) 
	    	{
	    		console.log("event called");
	    		event.preventDefault();
	    		deleteAllBook();
	    	});
		}
		function deleteAllBook()
		{
			var deleteBookId = document.getElementById('deleteBookId').value;
			console.log("id :"+deleteBookId);
			if(deleteBookId == undefined || deleteBookId == null || deleteBookId.length == 0)
			{
				fetch('http://localhost:9000/deleteAllBooks', 
				{
				    method: 'DELETE'
				});
				window.alert('All books deleted');
			}
			else
			{
				fetch('http://localhost:9000/deleteBookById/'+deleteBookId, 
				{
				    method: 'DELETE'
				});
				window.alert("id books deleted");
			}
			document.getElementById('deleteBookId').value = '';
		}
	</script>
</head>
<body onload="restrictAutoRefresh()">
	<form id="deleteAllBooksForm">
		<label>Delete All Books : </label>
		<button type="submit" class="deleteButton">Delete All</button>
	</form>
	<br>
	<form id="deleteBookByIdForm">
		<label>Enter ID Delete Books : </label>
		<input type="text" name="" id="deleteBookId" class="textbox">
		<button type="submit" class="deleteButton">Delete</button>
	</form>
</body>
</html>